<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Questo è un fantastimitico gioco dove puoi combattere fra personaggi con fantastiche abilità a tua scelta! Prova Endor Works e te ne innamorerai!!">
    <meta name="keywords" content="EndorWorks GiocoMultigiocatore GiocoConAbilità MigliorSparatutto">
    <meta name="author" content="Bertolotti & Isoardi">
    <meta property="og:title" content="Endor Works - Il gioco multigiocatore per eccellenza">
    <meta property="og:site_name" content="endor.works">
    <meta property="og:url" content="https://endorworks.com">

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/animation.css">

    <script>

        localStorage.clear();

        window.addEventListener("load", function () {
            document.getElementById("close").addEventListener("click", function () {
                this.parentElement.remove();
            });
        });

        /* controlla se i nomi dei giocatori siano stati inseriti */
        function checkNames() {
            let pl1 = document.querySelectorAll("#registrazione > input")[0]
            let pl2 = document.querySelectorAll("#registrazione > input")[1];
            let errore = "";

            if (pl1.value == pl2.value) {
                errore = "Inserisci due nomi diversi!";
                alert(errore);
            }

            if (errore == "") {
                localStorage.setItem("player1", pl1.value);
                localStorage.setItem("player2", pl2.value);
            }

            return errore == "";
        }
    </script>

    <link rel="icon" href="./img/icon.png">
    <title>Endor Works</title>
</head>

<body>
    <section id="sectionAnimation">
        <div id="circle">
            <span></span>
            <div class="miniCircle"></div>
            <div class="miniCircle"></div>
            <div class="miniCircle"></div>
            <div class="miniCircle"></div>
        </div>
    </section>
    <script>
        /* prima volta che è stata caricata la pagina non assegno nulla e dopo la assegno
    così quando riesegue il controllo vede che è già stata assegnata allo  non
    riproduce l'animazione iniziale */
        if (sessionStorage.alreadyLoaded == undefined)
            sessionStorage.alreadyLoaded = "true";
        else
            document.getElementById("sectionAnimation").remove();
    </script>
    <div>
        <header>
            <img src="./img/logo.png">
        </header>
        <section>
            <form action="./scelta.html" id="registrazioneForm" method="get" onsubmit="return checkNames()">
                <p>Inserisci il nome che verrà visualizzato sulla classifica, <br>
                    se sarai in grado di battere i tuoi avversari</p>
                <div id="registrazione">
                    <input type="text" placeholder="Giocatore 1 ..." required>
                    <input type="text" placeholder="Giocatore 2 ..." required>
                </div>
                <button type="submit">
                    INIZIA!
                </button>
            </form>
        </section>
        <div id="settings">
            <a href="./settings/crediti.html?&ver=homePg">
                <img src="./img/settings.png">
            </a>
            <span>
                Vai alle <br> impostazioni
                <span class="material-symbols-rounded" id="close">
                    close
                </span>
            </span>
        </div>
    </div>
</body>

</html>