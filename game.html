<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- qui sono presenti tutti i meta tags che rappresentano la parte dell' anteprima-->

    <meta name="description"
        content="Questo è un fantastimitico gioco dove puoi combattere fra personaggi con fantastiche abilità a tua scelta! Prova Endor Works e te ne innamorerai!!">

    <meta name="keywords"
        content="EndorWorks GiocoMultigiocatore GiocoConAbilità MigliorSparatutto Enodr Works onlineGames games playOnline">

    <meta name="author" content="Bertolotti & Isoardi">

    <meta property="og:title" content="Endor Works - Il gioco multigiocatore per eccellenza">
    <meta property="og:site_name" content="endor.works">
    <meta property="og:url" content="https://endorworks.com" />

    <!-- STYLESHEET -->
    <link rel="stylesheet" href="./css/conJava.css">
    <link rel="stylesheet" href="./css/animation.css">

    <!-- FONTS ICON -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- ICONA e TITLE SCHEDA-->
    <link rel="icon" href="./img/icon.png">
    <title>Gioco</title>

</head>

<body>

    <!-- header a scomparsa -->
    <header class="lightHeader">

        <!-- "bottone" che permette di andare alla pagina delle impostazioni -->
        <a href="" id="settingsBtn" class="lightMode">
            <span class="material-symbols-rounded">
                settings
            </span>
        </a>

        <span id="setWin" class="suggestWindow">
        </span>

        <!-- bottone che permetterà di mettere in pausa il gioco -->
        <button id="pauseBtn" class="lightMode">
            <span class="material-symbols-rounded">
                pause
            </span>
        </button>

        <span id="setWin" class="suggestWindow">
        </span>

        <div class="volume">
            <!-- bottone che quando viene premuto permette di mostrare e di modificare il livello audio GENERALE -->
            <button id="volumeBtn" class="lightMode">
                <span class="material-symbols-rounded">
                    volume_up
                </span>
            </button>

            <!-- regolazione audio -->
            <div id="volumeRange" class="lightMode">
                <span class="material-symbols-rounded">
                    volume_off
                </span>
                <input type="range" name="volume" id="volumeValue">
                <span class="material-symbols-rounded lightMode">
                    volume_up
                </span>
            </div>
        </div>

        <span id="setWin" class="suggestWindow">
        </span>

        <!-- bottone che quando viene premuto permette di cambiare tema alla pagina -->
        <button id="themeMode" onclick="change()" class="lightMode">
            <span class="material-symbols-rounded" id="themeIcon">
                light_mode
            </span>
        </button>

        <span id="setWin" class="suggestWindow">
        </span>

    </header>

    <!-- finestra del menu -->
    <div id="menu">
        <div>
            <span class="material-symbols-rounded">
                pause
            </span>
            <span>
                PAUSA
            </span>
        </div>
        <div>
            <a href="./game.html" id="resumeBtn">
                Riprendi
            </a>
            <a href="./settings/crediti.html?&ver=Sijava" id="optionAnchor">
                Opzioni
            </a>
            <a href="./index.html">
                Home
            </a>
            <a href="./punteggi.html">
                Classifica
            </a>
        </div>
    </div>
    <!-- FINE finestra del menu -->

    <!-- html della finestra del tutorial -->
    <div id="tutorial" class="tutorialLight">
        <div id="messageTutorial">

        </div>
        <div id="formTutorial" class="tutorialLight">
            <button id="skip" onclick="skip()">Salta tutorial</button>
            <button id="next" onclick="next()">Prossimo (5)</button>
        </div>
    </div>
    <!-- FINE html della finestra del tutorial -->

    <main>

        <!-- sezione relativa al primo giocatore -->
        <section>

            <!-- area di gioco -->
            <div class="game_space">

                <!-- BARRA DELLA VITA (momentaneamente non funzionante)-->
                <div class="life">
                    <div></div>
                    <div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>

                <!-- questo bottone rappresenta il giocatore 1
                    in base a delle azioni si può trasformare 
                    e riprodurre delle animazioni tramite css e javascript -->
                <button id="player1">
                    <img src="" id="img1">
                </button>

                <!-- serve ESCLUSIVAMENTE per ricreare l'animazione -->
                <!-- altrimente normalmente verrebbe tolto e messo nella zone delle abilità (qui sotto) -->
                <img src="./img/rocket.png">

                <!--
                METTI "YO" CHE SONO UNO SOPRA L'ALTRO
                così:
                YO!
                YO!
                YO!
                YO!
                -->
                <!-- ELENCO PRIME ABILITA' (SOLO FIRE, YO, CSHARP e GRENADE) -->
                <img src="" class="ability1">
                <img src="" class="ability1">
                <img src="" class="ability1">
                <img src="" class="ability1">


                <!-- ELENCO SECONE ABILITA' (SOLO LASER E RAZZO) -->
                <img src="" class="ability2">
                <img src="" class="ability2">
                <img src="" class="ability2">
                <img src="" class="ability2">

            </div>

            <!-- parte dei controlli del giocatore 1 -->
            <div class="control">
                <div class="joystick lightMode">

                    <!-- div.ability rappresenta la zona dei bottoni e comandi -->
                    <div class="ability">

                        <!-- questo bottone rappresenta la PRIMA ABILITA' (player1) -->
                        <!-- quando premuto ricrea l'abilità -->
                        <!-- move(1,10) == move(player1,abilità numero 1) -->
                        <button onclick="move(1,10)">
                            <img src="" id="abilityBtn1">
                        </button>

                        <!-- questo bottone rappresenta la SECONDA ABILITA' (player1) -->
                        <!-- quando premuto ricrea l'abilità -->
                        <!-- move(1,20) == move(player1,abilità numero 2) -->
                        <button onclick="move(1,20)">
                            <img src="" id="abilityBtn2">
                        </button>

                    </div>

                    <!-- parte dei comandi relativa agli SPOSTAMENTI -->
                    <div class="movement">

                        <!-- bottone RUOTA SENSO ANTIORARIO -->
                        <!-- move(1,8) == move(player1,ruota_a_sinistra)  -->
                        <button onclick="move(1,7)">
                            <span class="material-symbols-rounded">
                                rotate_left
                            </span>
                        </button>

                        <!-- bottone MUOVI SOPRA -->
                        <!-- move(1,8) == move(player1,up) -->
                        <button onclick="move(1,8)">
                            <span class="material-symbols-rounded">
                                north
                            </span>
                        </button>

                        <!-- bottone RUOTA SENSO ORARIO -->
                        <!-- move(1,9) == move(player1,ruota_a_destra)  -->
                        <button onclick="move(1,9)">
                            <span class="material-symbols-rounded">
                                rotate_right
                            </span>
                        </button>

                        <!-- bottone MUOVI SINSITRA -->
                        <!-- move(1,4) == move(player1,left) -->
                        <button onclick="move(1,4)">
                            <span class="material-symbols-rounded">
                                west
                            </span>
                        </button>

                        <!-- bottone MUOVI SOTTO -->
                        <!-- move(1,2) == move(player1,down) -->
                        <button onclick="move(1,2)">
                            <span class="material-symbols-rounded">
                                south
                            </span>
                        </button>

                        <!-- bottone MUOVI DESTRA -->
                        <!-- move(1,6) == move(player1,right) -->
                        <button onclick="move(1,6)">
                            <span class="material-symbols-rounded">
                                east
                            </span>
                        </button>
                    </div>
                </div>
            </div>

        </section>
        <!-- FINE PARTE RELATIVA GIOCATORE 1 -->

        <!-- LINEA BIANCA CHE SEPARA GIOCATORE 1 E GIOCATORE 2 -->
        <div id="separator"></div>


        <!-- SCRIPT DEL TUTORIAL -->
        <script src="./js/tutorial.js"></script>


        <!-- sezione relativa al secondo giocatore -->
        <section>

            <!-- area di gioco -->
            <div class="game_space">

                <!-- BARRA DELLA VITA (momentaneamente non funzionante)-->
                <div class="life">
                    <div></div>
                    <div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>

                <!-- questo bottone rappresenta il giocatore 1
                    in base a delle azioni si può trasformare 
                    e riprodurre delle animazioni tramite css e javascript -->
                <button id="player2">
                    <img src="" id="img2">
                </button>


                <!-- ELENCO PRIME ABILITA' (SOLO FIRE, YO, CSHARP e GRENADE) -->
                <img src="" class="ability3">
                <img src="" class="ability3">
                <img src="" class="ability3">
                <img src="" class="ability3">


                <!-- ELENCO SECONDE ABILITA' (SOLO LASER, RAZZO) -->
                <img src="" class="ability4">
                <img src="" class="ability4">
                <img src="" class="ability4">
                <img src="" class="ability4">

            </div>

            <!-- parte dei controlli del giocatore 2 -->
            <div class="control">
                <div class="joystick lightMode">

                    <!-- div.ability rappresenta la zona dei bottoni e comandi -->
                    <div class="ability">

                        <!-- questo bottone rappresenta la PRIMA ABILITA' (player2)-->
                        <!-- quando premuto ricrea l'abilità -->
                        <!-- move(2,10) == move(player2,abilità numero 1) -->
                        <button onclick="move(2,10)">
                            <img src="" id="abilityBtn3">
                        </button>

                        <!-- questo bottone rappresenta la SECONDA ABILITA' (player2) -->
                        <!-- quando premuto ricrea l'abilità -->
                        <!-- move(2,20) == move(player2,abilità numero 2) -->
                        <button onclick="move(2,20)">
                            <img src="" id="abilityBtn4">
                        </button>

                    </div>
                    <!-- parte dei comandi relativa agli SPOSTAMENTI -->
                    <div class="movement">

                        <!-- bottone RUOTA SENSO ANTIORARIO -->
                        <!-- move(2,8) == move(player2,ruota_a_sinistra)  -->
                        <button onclick="move(2,7)">
                            <span class="material-symbols-rounded">
                                rotate_left
                            </span>
                        </button>

                        <!-- bottone MUOVI SOPRA -->
                        <!-- move(2,8) == move(player2,up) -->
                        <button onclick="move(2,8)">
                            <span class="material-symbols-rounded">
                                north
                            </span>
                        </button>

                        <!-- bottone RUOTA SENSO ORARIO -->
                        <!-- move(2,9) == move(player2,ruota_a_destra)  -->
                        <button onclick="move(2,9)">
                            <span class="material-symbols-rounded">
                                rotate_right
                            </span>
                        </button>

                        <!-- bottone MUOVI SINSITRA -->
                        <!-- move(2,4) == move(player2,left) -->
                        <button onclick="move(2,4)">
                            <span class="material-symbols-rounded">
                                west
                            </span>
                        </button>

                        <!-- bottone MUOVI SOTTO -->
                        <!-- move(2,2) == move(player2,down) -->
                        <button onclick="move(2,2)">
                            <span class="material-symbols-rounded">
                                south
                            </span>
                        </button>

                        <!-- bottone MUOVI DESTRA -->
                        <!-- move(2,6) == move(player2,right) -->
                        <button onclick="move(2,6)">
                            <span class="material-symbols-rounded">
                                east
                            </span>
                        </button>

                    </div>
                </div>
            </div>

        </section>
        <!-- FINE PARTE RELATIVA GIOCATORE 2 -->
    </main>

    <section id="sectionAnimation">
        <div id="circle">
            <span></span>
            <div class="miniCircle"></div>
            <div class="miniCircle"></div>
            <div class="miniCircle"></div>
            <div class="miniCircle"></div>
        </div>
    </section>

    <!-- questo script permette il movimento dei personaggi e l'esecuzione delle abilità -->
    <script src="./js/movement.js"></script>

    <!-- QUESTO SCRIPT SERVE PER CAMBIARE TEMA -->
    <script>

        var theme = document.getElementById("themeMode");
        var icon = document.getElementById("themeIcon");

        var joystick = document.querySelectorAll(".joystick");
        var header = document.querySelector('header');
        var pauseBtn = document.getElementById('pauseBtn');
        var volumeBtn = document.getElementById('volumeBtn');
        var volumeRange = document.getElementById('volumeRange');
        var settingsBtn = document.getElementById('settingsBtn');

        var formTutorial = document.getElementById("formTutorial");
        var tutorialWindow = document.getElementById("tutorial");

        const changeModeArr = [pauseBtn, volumeBtn, volumeRange, theme, settingsBtn];

        function change() {
            if (icon.textContent.includes("light")) {

                icon.textContent = "dark_mode";

                changeModeArr.forEach(val => {
                    val.classList.replace("lightMode", "darkMode");
                });

                joystick[0].classList.replace("lightMode", "darkMode");
                joystick[1].classList.replace("lightMode", "darkMode");

                header.classList.replace("lightHeader", "darkHeader");

                tutorialWindow.classList.replace("tutorialLight", "tutorialDark");
                formTutorial.classList.replace("tutorialLight", "tutorialDark");

                document.getElementById("next").style.color = "aliceblue";
                document.getElementById("next").style.borderColor = "aliceblue";

                document.getElementById("skip").style.color = "aliceblue";
                document.getElementById("skip").style.borderColor = "aliceblue";

            } else {
                icon.textContent = "light_mode";

                changeModeArr.forEach(val => {
                    val.classList.replace("darkMode", "lightMode");
                });

                joystick[0].classList.replace("darkMode", "lightMode");
                joystick[1].classList.replace("darkMode", "lightMode");

                header.classList.replace("darkHeader", "lightHeader");

                tutorialWindow.classList.replace("tutorialDark", "tutorialLight");
                formTutorial.classList.replace("tutorialDark", "tutorialLight");

                document.getElementById("next").style.color = "black";
                document.getElementById("next").style.borderColor = "black";

                document.getElementById("skip").style.color = "black";
                document.getElementById("skip").style.borderColor = "black";

            }
        }

    </script>


    <!--
    script che imposta l'attributo href di settingsBtn in modo che inserisca
    nell'URL il backgroundImage dello sfondo 
    INOLTRE
    questo script imposta la riproduzione dell'animazione di caricamento SOLAMENTE
    la prima volta che è stata ricaricata la pagina -->
    <script>

        var url = document.URL.split("?")[1];
        var settingsBtn = document.getElementById("settingsBtn");
        var optionAnchor = document.getElementById("optionAnchor");
        var bkg = getComputedStyle(document.querySelector("body")).backgroundImage;

        bkg = bkg.slice(0,-6).slice(-10);

        settingsBtn.href = "./settings/crediti.html?" + "bkg=" + bkg + "&ver=Sijava";
        optionAnchor.href = "./settings/crediti.html?" + "bkg=" + bkg + "&ver=Sijava";


        /* prima volta che è stata caricata la pagina non assegno nulla e dopo la assegno
           così quando riesegue il controllo vede che è già stata assegnata allo  non
           riproduce l'animazione iniziale */

        if (sessionStorage.alreadyLoaded == undefined)
            sessionStorage.alreadyLoaded = "true";
        else {
            document.getElementById("tutorial").style.display = "none";
            document.getElementById("sectionAnimation").style.display = "none";
            azzera();
        }

    </script>

</body>

</html>